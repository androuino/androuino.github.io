<!DOCTYPE html>
<html lang="en">
  <head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Josaped Moreno</title>
		<meta name="description" content="Examples for creative website header animations using Canvas and JavaScript">
		<meta name="keywords" content="header, canvas, animated, creative, inspiration, javascript">
		<meta name="author" content="Codrops">
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css">
		<link rel="stylesheet" type="text/css" href="css/demo.css">
		<link rel="stylesheet" type="text/css" href="css/component.css">
		<link href="https://fonts.googleapis.com/css?family=Raleway:200,400,800" rel="stylesheet" type="text/css">
		<!--[if IE]>
		<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
    <link rel="stylesheet" type="text/css" href="https://tympanus.net/codrops/adpacks/demoadpacks.css?1411519815227"><script id="_adpacks_projs" type="text/javascript" src="//cdn.buysellads.com/ac/pro.js"></script>
    <link rel="stylesheet" type="text/css" href="css/projects.css">
    <script>
      window.console = window.console || function(t) {};
    </script>
    <script>
      if (document.location.search.match(/type=embed/gi)) {
        window.parent.postMessage("resize", "*");
      }
    </script>
    <script type="text/javascript" id="_bsaPRO_js" src="//srv.buysellads.com/ads/get/ids/C6SI42Y/?r=1411516800000&amp;segment_C6SI42Y=placement:tympanusnet&amp;freqcap=8367,3,3" async="async"></script>
    <script type="text/javascript" async="" src="//adn.fusionads.net/launchbit/10790/null/?141151982"></script>
    <script async="" src="//www.google-analytics.com/analytics.js"></script>
  </head>

	<body translate="no">
    <h2 id="h2-projects" class="h2-projects">PROJECTS</h2>

    <div class="cont active">
      <div data-target='1' class="slide slide--1">
        <div class="slide__text slide__text--1">quis risus</div>
        <div class="slide__bg"></div>
        <div class="slide__img">
          <div class="slide__close"></div>
          <div class="slide__img-wrapper"></div>
        </div>
        <div class="slide__bg-dark"></div>
        <a href="https://twitter.com/mrspok407" target="_blank" class="icon-link icon-link--twitter">
          <img src="https://cdn1.iconfinder.com/data/icons/logotypes/32/twitter-128.png">
        </a>
      </div>

      <div data-target='2' class="slide slide--2">
        <div class="slide__text">Lorem ipsum</div>
        <div class="slide__bg"></div>
        <div class="slide__img">
          <div class="slide__close"></div>
          <div class="slide__img-wrapper">
          </div>
        </div>
        <div class="slide__bg-dark"></div>
        <a href="https://twitter.com/mrspok407" target="_blank" class="icon-link icon-link--twitter">
          <img src="https://cdn1.iconfinder.com/data/icons/logotypes/32/twitter-128.png">
        </a>
      </div>

      <div data-target='3' class="slide slide--3">
        <div class="slide__text">Sed tincidunt</div>
        <div class="slide__bg"></div>
        <div class="slide__img">
          <div class="slide__close"></div>
          <div class="slide__img-wrapper"></div>
        </div>
        <div class="slide__bg-dark"></div>
        <a href="https://twitter.com/mrspok407" target="_blank" class="icon-link icon-link--twitter">
          <img src="https://cdn1.iconfinder.com/data/icons/logotypes/32/twitter-128.png">
        </a>
      </div>

      <div data-target='4' class="slide slide--4">
        <div class="slide__text">Vivamus dui</div>
        <div class="slide__bg"></div>
        <div class="slide__img">
          <div class="slide__close"></div>
          <div class="slide__img-wrapper"></div>
        </div>
        <div class="slide__bg-dark"></div>
        <a href="https://twitter.com/mrspok407" target="_blank" class="icon-link icon-link--twitter">
          <img src="https://cdn1.iconfinder.com/data/icons/logotypes/32/twitter-128.png">
        </a>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
      $(document).ready(function() {
        const $cont = $('.cont');
        const $slide = $('.slide');
        const $closeBtn = $('.slide__close')
        const $text = $('.slide__text');
        const $iconTwitter = $('.icon-link--twitter');
        const numSlides = 4;
        const initialAnimDur = 5705;
        const animDelay = 1000;
        let initialAnim = true;
        let clickAnim = false;

        $(document).on('click', '.slide__bg-dark', function() {
          if (initialAnim || clickAnim) return;
          let _this = $(this).parent();
          let target = +_this.attr('data-target');
          clickAnim = true;

          _this.css({
            'transform': 'translate3d(-100%, 0, 0)',
            'transition': '750ms',
            'cursor': 'default'
          })

          _this.find('.slide__img-wrapper').css({
            'transform': 'translate3d(0, 0, 0) scale(.95, .95)',
            'transition': '2000ms'
          })

          for(let i = target, length = $slide.length; i < length; i++) {
            $('.slide--' + (i + 1)).css({
              'transform': 'translate3d(0, 0, 0)',
              'transition': '750ms'
            })
          }

          for(let i = target, length = $slide.length; i > 1; i--) {
            $('.slide--' + (i - 1)).css({
              'transform': 'translate3d(-125%, 0, 0)',
              'transition': '750ms'
            })
          }

          setTimeout(function() {
            $slide.not(_this).find('.slide__bg-dark').css({
              'opacity': '0'
            })
          }, 750)

          $closeBtn.addClass('show-close');
          $iconTwitter.addClass('icon-show');

          _this.find('.slide__text').css({
            'transform': 'translate3d(150px, -40%, 0)',
            'opacity': '1',
            'transition': '2000ms',
            '-webkit-transition': '2000ms'
          })
        });

        $(document).on('mousemove', '.slide', function() {
          if(initialAnim || clickAnim) return;
          let _this = $(this);
          let target = +_this.attr('data-target');

          _this.css({
            'transform': 'translate3d(-' + (((100 / numSlides) * (numSlides - (target - 1))) + 5) + '%, 0, 0)',
            'transition': '750ms'
          })

          _this.find('.slide__text').css({
            'transform': 'translate3d(0, -40%, 0) rotate(0.01deg)',
            '-moz-transform': 'translate3d(0, -40%, 0) rotate(0.01deg)',
            'opacity': '1',
            'transition': '750ms',
            '-webkit-transition': '750ms'
          })

          for(let i = target, length = $slide.length; i < length; i++) {
            $('.slide--' + (i + 1)).css({
              'transform': 'translate3d(-' + (((100 / numSlides) * (numSlides - ((i + 1) - 1))) - 5) + '%, 0, 0)',
              'transition': '750ms'
            })
          }

          for(let i = target; i > 1; i--) {
            $('.slide--' + (i - 1)).css({
              'transform': 'translate3d(-' + (((100 / numSlides) * (numSlides - ((i - 1) - 1))) + 5) + '%, 0, 0)',
              'transition': '750ms'
            })
          }

          _this.find('.slide__img-wrapper').css({
            'transform': 'translate3d(-200px, 0, 0) scale(.85, .85)',
            'transition': '750ms'
          })

          $slide.not(_this).find('.slide__img-wrapper').css({
            'transform': 'translate3d(-200px, 0, 0) scale(.90, .90)',
            'transition': '1000ms'
          })

          $slide.not(_this).find('.slide__bg-dark').css({
            'opacity': '.75'
          })
        });

        $(document).on('mouseleave', '.slide', function() {
          if(initialAnim || clickAnim) return;
          let _this = $(this);
          let target = +_this.attr('data-target');

          for(let i = 1, length = $slide.length; i <= length; i++) {
            $('.slide--' + i).css({
              'transform': 'translate3d(-' + (100 / numSlides) * (numSlides - (i - 1)) + '%, 0, 0)',
              'transition': '1000ms'
            })
          }

          $slide.find('.slide__img-wrapper').css({
            'transform': 'translate3d(-200px, 0, 0) scale(1, 1)',
            'transition': '750ms'
          })

          $slide.find('.slide__bg-dark').css({
            'opacity': '0'
          })

          $text.css({
            'transform': 'translate3d(0, -50%, 0) rotate(0.01deg)',
            'opacity': '0',
            'transition': '200ms',
            '-webkit-transition': '200ms'
          })
        });

        $(document).on('click', '.slide__close', function() {

          setTimeout(function() {
            clickAnim = false;
          }, 1000);

          $closeBtn.removeClass('show-close');
          $iconTwitter.removeClass('icon-show');

          for(let i = 1, length = $slide.length; i <= length; i++) {
            $('.slide--' + i).css({
              'transform': 'translate3d(-' + (100 / numSlides) * (numSlides - (i - 1)) + '%, 0, 0)',
              'transition': '1000ms',
              'cursor': 'pointer'
            })
          }

          $text.css({
            'transform': 'translate3d(150px, -40%, 0)',
            'opacity': '0',
            'transition': '200ms',
            '-webkit-transition': '200ms'
          })

          setTimeout(function() {
            $text.css({
              'transform': 'translate3d(0, -50%, 0)'
            })
          }, 200)
        })

        setTimeout(function() {
          $cont.addClass('active');
        }, animDelay);

        setTimeout(function() {
          initialAnim = false;
        }, initialAnimDur + animDelay);

      });
    </script>
  </body>
</html>
